<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Übersicht</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
</head>
<body>
    <h1>Blog Übersicht</h1>
    <ul id="postsList"></ul>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDi9zN-bJkBfFUljFMOSHsw1uFMvgi_0vs",
            authDomain: "stefanbozkurt.firebaseapp.com",
            projectId: "stefanbozkurt",
            storageBucket: "stefanbozkurt.appspot.com",
            messagingSenderId: "711424993272",
            appId: "1:711424993272:web:f0e847eb9ba6937567980d"
        };
        
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        function loadPostTitles() {
            db.collection("posts").orderBy("timestamp", "desc").get().then(snapshot => {
                const list = document.getElementById("postsList");
                list.innerHTML = "";
                snapshot.forEach(doc => {
                    const post = doc.data();
                    const li = document.createElement("li");
                    li.innerHTML = `<a href="post.html?id=${doc.id}">${post.headline}</a>`;
                    list.appendChild(li);
                });
            });
        }

        loadPostTitles();
    </script>
</body>
</html>
